#include <mpi.h>
#include <stdio.h>

int main(int argc,char**argv){
  MPI_Init(&argc,&argv);
  int r,data;
  MPI_Comm_rank(MPI_COMM_WORLD,&r);

  if(r==0) data = 100;          // root sets value
  MPI_Bcast(&data,1,MPI_INT,0,MPI_COMM_WORLD);

  printf("P%d received %d\n", r, data);
  MPI_Finalize();
  return 0;
}
